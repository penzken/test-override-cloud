{"version":3,"mappings":"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","names":["improvedList","editor","selection","$from","nodeBefore","tr","paragraphContent","inList","insertPos","Selection","_sfc_main","Popover","button","_hoisted_1","_hoisted_2","_hoisted_7","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","$props","_hoisted_3","_hoisted_4","_createVNode","_component_Popover","_withCtx","togglePopover","_ctx","b","$options","_createBlock","_resolveDynamicComponent","_hoisted_6","_toDisplayString","close","option","_hoisted_9","_vShow","_mergeProps","componentSlotProps","$event","_hoisted_11","_sfc_render","_cache","commands","Text","H1","H2","H3","H4","H5","H6","Bold","Italic","Underline","Strikethrough","ListUnordered","ListOrdered","ListTask","AlignCenter","AlignLeft","AlignRight","FontColor","defineAsyncComponent","__vitePreload","DoubleQuotes","CodeView","Separator","Link","Image","Video","GalleryVertical","ArrowGoBack","ArrowGoForward","Table","createEditorButton","Menu","buttons","_component_Menu","BubbleMenu","_component_BubbleMenu","FloatingMenu","_component_FloatingMenu","useFileUpload","state","reactive","reset","isUploading","computed","progress","error","result","file","options","upload","resolve","reject","xhr","e","r","exception","errorParts","messages","m","uploadEndpoint","formData","k","defaultUploadFunction","props","__props","emit","__emit","ref","attrs","useAttrs","attrsClass","normalizeClass","attrsStyle","normalizeStyle","attrsWithoutClassStyle","key","editorProps","watch","val","value","onMounted","Editor","StarterKit","Heading","_a","TaskList","TaskItem","TableRow","TableHeader","TableCell","Typography","TextAlign","TextStyle","NamedColorExtension","NamedHighlightExtension","ExtendedCode","ExtendedCodeBlock","ImageExtension","ImageGroup","ImageViewerExtension","VideoExtension","IframeExtension","LinkExtension","Placeholder","MentionExtension","EmojiExtension","SlashCommands","TagNode","TagExtension","ContentPasteExtension","event","onBeforeUnmount","provide","rootRef","useTemplateRef","__expose","TextEditorBubbleMenu","TextEditorFixedMenu","TextEditorFloatingMenu","_renderSlot","_unref","EditorContent"],"sources":["../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/extensions/list-extension.ts","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/Menu.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/h-1.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/h-2.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/h-3.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/h-4.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/h-5.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/h-6.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/text.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/bold.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/italic.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/underline.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/strikethrough.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/align-center.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/align-left.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/align-right.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/font-color.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/list-ordered.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/list-unordered.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/list-task.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/double-quotes-r.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/code-view.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/link.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/image-add-line.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/video-add-line.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/arrow-go-back-line.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/arrow-go-forward-line.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/separator.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/icons/table-2.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/commands.js","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/utils.js","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/TextEditorFixedMenu.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/TextEditorBubbleMenu.vue","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/TextEditorFloatingMenu.vue","../../../../frontend/node_modules/frappe-ui/src/utils/useFileUpload.ts","../../../../frontend/node_modules/frappe-ui/src/components/TextEditor/TextEditor.vue"],"sourcesContent":["import { Selection } from '@tiptap/pm/state'\nimport { Editor } from '@tiptap/core'\n\nexport default function improvedList(editor: Editor) {\n  const selection = editor.view.state.selection\n  const { $from } = selection\n  if ($from.parentOffset > 0 || !selection.empty) return false\n\n  let nodeBefore = editor.view.state.doc.resolve($from.pos - 1).nodeBefore\n  if (!nodeBefore)\n    nodeBefore = editor.state.doc.resolve($from.before() - 1).nodeBefore\n  console.log(nodeBefore)\n  if (nodeBefore && ['bulletList', 'orderedList', 'listItem'].includes(nodeBefore.type.name)) {\n    // Join item with the last bullet item\n    editor\n      .chain()\n      .command(({ tr }) => {\n        const paragraphContent = $from.parent.content\n        const inList = nodeBefore.type.name === 'listItem'\n        console.log(inList)\n        tr.delete($from.before() - (inList ? 1 : 0), $from.after())\n        const insertPos = $from.pos - 4\n        tr.insert(insertPos, paragraphContent)\n        tr.setSelection(Selection.near(tr.doc.resolve(insertPos)))\n      })\n      .run()\n    return true\n  }\n\n  if (editor.can().liftListItem('listItem'))\n    return editor.commands.liftListItem('listItem')\n}\n","<template>\n  <div class=\"inline-flex bg-surface-white px-1 py-1\">\n    <div class=\"inline-flex items-center gap-1\">\n      <template v-for=\"button in buttons\" :key=\"button.label\">\n        <div\n          class=\"h-4 w-[2px] border-l\"\n          v-if=\"button.type === 'separator'\"\n        ></div>\n        <div class=\"shrink-0\" v-else-if=\"button.map\">\n          <Popover>\n            <template #target=\"{ togglePopover }\">\n              <button\n                class=\"rounded px-2 py-1 text-base font-medium text-ink-gray-8 transition-colors hover:bg-surface-gray-2\"\n                @click=\"togglePopover\"\n                :set=\"\n                  activeBtn =\n                    button.find((b) => b.isActive(editor)) || button[0]\n                \"\n              >\n                <component\n                  v-if=\"activeBtn.icon\"\n                  :is=\"activeBtn.icon\"\n                  class=\"h-4 w-4\"\n                />\n                <span v-else>\n                  {{ activeBtn.label }}\n                </span>\n              </button>\n            </template>\n            <template #body=\"{ close }\">\n              <ul\n                class=\"p-1.5 mt-2 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n              >\n                <li\n                  v-for=\"option in button\"\n                  v-show=\"option.isDisabled ? !option.isDisabled(editor) : true\"\n                >\n                  <button\n                    class=\"w-full h-7 rounded px-2 text-base flex items-center gap-2 hover:bg-surface-gray-3\"\n                    @click=\"\n                      () => {\n                        onButtonClick(option)\n                        close()\n                      }\n                    \"\n                  >\n                    <component\n                      v-if=\"option.icon\"\n                      :is=\"option.icon\"\n                      class=\"size-4 flex-shrink-0 text-ink-gray-6\"\n                    />\n                    <span\n                      v-if=\"option.label\"\n                      class=\"whitespace-nowrap text-ink-gray-7\"\n                      >{{ option.label }}</span\n                    >\n                  </button>\n                </li>\n              </ul>\n            </template>\n          </Popover>\n        </div>\n        <component v-else :is=\"button.component || 'div'\" v-bind=\"{ editor }\">\n          <template v-slot=\"componentSlotProps\">\n            <button\n              class=\"flex rounded p-1 text-ink-gray-8 transition-colors\"\n              :class=\"[\n                button.isActive(editor) || componentSlotProps?.isActive\n                  ? 'bg-surface-gray-3'\n                  : 'hover:bg-surface-gray-2',\n                button.class,\n              ]\"\n              @click=\"\n                componentSlotProps?.onClick\n                  ? componentSlotProps.onClick(button)\n                  : onButtonClick(button)\n              \"\n              :title=\"button.label\"\n            >\n              <component v-if=\"button.icon\" :is=\"button.icon\" class=\"h-4 w-4\" />\n              <span\n                class=\"inline-block h-4 min-w-[1rem] text-sm leading-4\"\n                v-else\n              >\n                {{ button.text }}\n              </span>\n            </button>\n          </template>\n        </component>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nimport Popover from '../Popover/Popover.vue'\n\nexport default {\n  name: 'TipTapMenu',\n  props: ['buttons'],\n  inject: ['editor'],\n  components: {\n    Popover,\n  },\n  methods: {\n    onButtonClick(button) {\n      button.action(this.editor)\n    },\n  },\n}\n</script>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0H24V24H0z\" />\n    <path\n      d=\"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0H24V24H0z\" />\n    <path\n      d=\"M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0H24V24H0z\" />\n    <path\n      d=\"M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0H24V24H0z\" />\n    <path\n      d=\"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm9-12v8h1.5v2H22v2h-2v-2h-5.5v-1.34l5-8.66H22zm-2 3.133L17.19 16H20v-4.867z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0H24V24H0z\" />\n    <path\n      d=\"M22 8v2h-4.323l-.464 2.636c.33-.089.678-.136 1.037-.136 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.827 0-3.367-1.224-3.846-2.897l1.923-.551c.24.836 1.01 1.448 1.923 1.448 1.105 0 2-.895 2-2s-.895-2-2-2c-.63 0-1.193.292-1.56.748l-1.81-.904L16 8h6zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0H24V24H0z\" />\n    <path\n      d=\"M21.097 8l-2.598 4.5c2.21 0 4.001 1.79 4.001 4s-1.79 4-4 4-4-1.79-4-4c0-.736.199-1.426.546-2.019L18.788 8h2.309zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 10.5c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path d=\"M13 6v15h-2V6H5V4h14v2z\" fill=\"currentColor\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M8 3v9a4 4 0 1 0 8 0V3h2v9a6 6 0 1 1-12 0V3h2zM4 20h16v2H4v-2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.086 4.086 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099.436.313.974.562 1.613.75.62.18 1.297.414 2.03.699z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M15.246 14H8.754l-1.6 4H5l6-15h2l6 15h-2.154l-1.6-4zm-.8-2L12 5.885 9.554 12h4.892zM3 20h18v2H3v-2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-list-checks-icon lucide-list-checks\"\n  >\n    <path d=\"m3 17 2 2 4-4\" />\n    <path d=\"m3 7 2 2 4-4\" />\n    <path d=\"M13 6h8\" />\n    <path d=\"M13 12h8\" />\n    <path d=\"M13 18h8\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M19.417 6.679C20.447 7.773 21 9 21 10.989c0 3.5-2.457 6.637-6.03 8.188l-.893-1.378c3.335-1.804 3.987-4.145 4.247-5.621-.537.278-1.24.375-1.929.311-1.804-.167-3.226-1.648-3.226-3.489a3.5 3.5 0 0 1 3.5-3.5c1.073 0 2.099.49 2.748 1.179zm-10 0C10.447 7.773 11 9 11 10.989c0 3.5-2.457 6.637-6.03 8.188l-.893-1.378c3.335-1.804 3.987-4.145 4.247-5.621-.537.278-1.24.375-1.929.311C4.591 12.322 3.17 10.841 3.17 9a3.5 3.5 0 0 1 3.5-3.5c1.073 0 2.099.49 2.748 1.179z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M16.95 8.464l1.414-1.414 4.95 4.95-4.95 4.95-1.414-1.414L20.485 12 16.95 8.464zm-9.9 0L3.515 12l3.535 3.536-1.414 1.414L.686 12l4.95-4.95L7.05 8.464z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 1 0-7.071-7.071L9.879 7.05 8.464 5.636 9.88 4.222a7 7 0 0 1 9.9 9.9l-1.415 1.414zm-2.828 2.828l-1.415 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 1 0 7.071 7.071l1.414-1.414 1.415 1.414zm-.708-10.607l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0H24V24H0z\" />\n    <path\n      d=\"M16 4c.552 0 1 .448 1 1v4.2l5.213-3.65c.226-.158.538-.103.697.124.058.084.09.184.09.286v12.08c0 .276-.224.5-.5.5-.103 0-.203-.032-.287-.09L17 14.8V19c0 .552-.448 1-1 1H2c-.552 0-1-.448-1-1V5c0-.552.448-1 1-1h14zm-1 2H3v12h12V6zM8 8h2v3h3v2H9.999L10 16H8l-.001-3H5v-2h3V8zm13 .841l-4 2.8v.718l4 2.8V8.84z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M18.172 7H11a6 6 0 1 0 0 12h9v2h-9a8 8 0 1 1 0-16h7.172l-2.536-2.536L17.05 1.05 22 6l-4.95 4.95-1.414-1.414L18.172 7z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M2 11h2v2H2v-2zm4 0h12v2H6v-2zm14 0h2v2h-2v-2z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width=\"24\"\n    height=\"24\"\n  >\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n    <path\n      d=\"M13 10v4h6v-4h-6zm-2 0H5v4h6v-4zm2 9h6v-3h-6v3zm-2 0v-3H5v3h6zm2-14v3h6V5h-6zm-2 0H5v3h6V5zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","import { defineAsyncComponent } from 'vue'\nimport H1 from './icons/h-1.vue'\nimport H2 from './icons/h-2.vue'\nimport H3 from './icons/h-3.vue'\nimport H4 from './icons/h-4.vue'\nimport H5 from './icons/h-5.vue'\nimport H6 from './icons/h-6.vue'\nimport Text from './icons/text.vue'\nimport Bold from './icons/bold.vue'\nimport Italic from './icons/italic.vue'\nimport Underline from './icons/underline.vue'\nimport Strikethrough from './icons/strikethrough.vue'\nimport AlignCenter from './icons/align-center.vue'\nimport AlignLeft from './icons/align-left.vue'\nimport AlignRight from './icons/align-right.vue'\nimport FontColor from './icons/font-color.vue'\nimport ListOrdered from './icons/list-ordered.vue'\nimport ListUnordered from './icons/list-unordered.vue'\nimport ListTask from './icons/list-task.vue'\nimport DoubleQuotes from './icons/double-quotes-r.vue'\nimport CodeView from './icons/code-view.vue'\nimport Link from './icons/link.vue'\nimport Image from './icons/image-add-line.vue'\nimport Video from './icons/video-add-line.vue'\nimport GalleryVertical from '~icons/lucide/gallery-vertical'\nimport ArrowGoBack from './icons/arrow-go-back-line.vue'\nimport ArrowGoForward from './icons/arrow-go-forward-line.vue'\nimport Separator from './icons/separator.vue'\nimport Table from './icons/table-2.vue'\n\nexport default {\n  Paragraph: {\n    label: 'Paragraph',\n    icon: Text,\n    action: (editor) => editor.chain().focus().setParagraph().run(),\n    isActive: (editor) => editor.isActive('paragraph'),\n  },\n  'Heading 1': {\n    label: 'Heading 1',\n    text: 'H1',\n    icon: H1,\n    action: (editor) =>\n      editor.chain().focus().toggleHeading({ level: 1 }).run(),\n    isActive: (editor) => editor.isActive('heading', { level: 1 }),\n  },\n  'Heading 2': {\n    label: 'Heading 2',\n    text: 'H2',\n    icon: H2,\n    action: (editor) =>\n      editor.chain().focus().toggleHeading({ level: 2 }).run(),\n    isActive: (editor) => editor.isActive('heading', { level: 2 }),\n  },\n  'Heading 3': {\n    label: 'Heading 3',\n    text: 'H3',\n    icon: H3,\n    action: (editor) =>\n      editor.chain().focus().toggleHeading({ level: 3 }).run(),\n    isActive: (editor) => editor.isActive('heading', { level: 3 }),\n  },\n  'Heading 4': {\n    label: 'Heading 4',\n    text: 'H4',\n    icon: H4,\n    action: (editor) =>\n      editor.chain().focus().toggleHeading({ level: 4 }).run(),\n    isActive: (editor) => editor.isActive('heading', { level: 4 }),\n  },\n  'Heading 5': {\n    label: 'Heading 5',\n    text: 'H5',\n    icon: H5,\n    action: (editor) =>\n      editor.chain().focus().toggleHeading({ level: 5 }).run(),\n    isActive: (editor) => editor.isActive('heading', { level: 5 }),\n  },\n  'Heading 6': {\n    label: 'Heading 6',\n    text: 'H6',\n    icon: H6,\n    action: (editor) =>\n      editor.chain().focus().toggleHeading({ level: 6 }).run(),\n    isActive: (editor) => editor.isActive('heading', { level: 6 }),\n  },\n  Bold: {\n    label: 'Bold',\n    icon: Bold,\n    action: (editor) => editor.chain().focus().toggleBold().run(),\n    isActive: (editor) => editor.isActive('bold'),\n  },\n  Italic: {\n    label: 'Italic',\n    icon: Italic,\n    action: (editor) => editor.chain().focus().toggleItalic().run(),\n    isActive: (editor) => editor.isActive('italic'),\n  },\n  Underline: {\n    label: 'Underline',\n    icon: Underline,\n    action: (editor) => editor.chain().focus().toggleUnderline().run(),\n    isActive: (editor) => editor.isActive('underline'),\n  },\n  Strikethrough: {\n    label: 'Strikethrough',\n    icon: Strikethrough,\n    action: (editor) => editor.chain().focus().toggleStrike().run(),\n    isActive: (editor) => editor.isActive('strike'),\n  },\n  'Bullet List': {\n    label: 'Bullet List',\n    icon: ListUnordered,\n    action: (editor) => editor.chain().focus().toggleBulletList().run(),\n    isActive: (editor) => editor.isActive('bulletList'),\n  },\n  'Numbered List': {\n    label: 'Numbered List',\n    icon: ListOrdered,\n    action: (editor) => editor.chain().focus().toggleOrderedList().run(),\n    isActive: (editor) => editor.isActive('orderedList'),\n  },\n  'Task List': {\n    label: 'Task List',\n    icon: ListTask,\n    action: (editor) => editor.chain().focus().toggleTaskList().run(),\n    isActive: (editor) => editor.isActive('taskList'),\n  },\n  'Align Center': {\n    label: 'Align Center',\n    icon: AlignCenter,\n    action: (editor) => editor.chain().focus().setTextAlign('center').run(),\n    isActive: (editor) => editor.isActive({ textAlign: 'center' }),\n  },\n  'Align Left': {\n    label: 'Align Left',\n    icon: AlignLeft,\n    action: (editor) => editor.chain().focus().setTextAlign('left').run(),\n    isActive: (editor) => editor.isActive({ textAlign: 'left' }),\n  },\n  'Align Right': {\n    label: 'Align Right',\n    icon: AlignRight,\n    action: (editor) => editor.chain().focus().setTextAlign('right').run(),\n    isActive: (editor) => editor.isActive({ textAlign: 'right' }),\n  },\n  FontColor: {\n    label: 'Font Color',\n    icon: FontColor,\n    isActive: (editor) =>\n      editor.isActive('textStyle') || editor.isActive('highlight'),\n    component: defineAsyncComponent(() => import('./FontColor.vue')),\n  },\n  Blockquote: {\n    label: 'Blockquote',\n    icon: DoubleQuotes,\n    action: (editor) => editor.chain().focus().toggleBlockquote().run(),\n    isActive: (editor) => editor.isActive('blockquote'),\n  },\n  Code: {\n    label: 'Code',\n    icon: CodeView,\n    action: (editor) => editor.chain().focus().toggleCodeBlock().run(),\n    isActive: (editor) => editor.isActive('codeBlock'),\n  },\n  'Horizontal Rule': {\n    label: 'Horizontal Rule',\n    icon: Separator,\n    action: (editor) => editor.chain().focus().setHorizontalRule().run(),\n    isActive: (editor) => false,\n  },\n  Link: {\n    label: 'Link',\n    icon: Link,\n    isActive: (editor) => editor.isActive('link'),\n    component: defineAsyncComponent(() => import('./InsertLink.vue')),\n  },\n  Image: {\n    label: 'Image',\n    icon: Image,\n    isActive: (editor) => false,\n    component: defineAsyncComponent(() => import('./InsertImage.vue')),\n  },\n  Video: {\n    label: 'Video',\n    icon: Video,\n    isActive: (editor) => false,\n    component: defineAsyncComponent(() => import('./InsertVideo.vue')),\n  },\n  Iframe: {\n    label: 'Embed',\n    icon: GalleryVertical,\n    isActive: (editor) => editor.isActive('iframe'),\n    component: defineAsyncComponent(() => import('./extensions/iframe/InsertIframe.vue')),\n  },\n  Undo: {\n    label: 'Undo',\n    icon: ArrowGoBack,\n    action: (editor) => editor.chain().focus().undo().run(),\n    isActive: (editor) => false,\n  },\n  Redo: {\n    label: 'Redo',\n    icon: ArrowGoForward,\n    action: (editor) => editor.chain().focus().redo().run(),\n    isActive: (editor) => false,\n  },\n  InsertTable: {\n    label: 'Insert Table',\n    icon: Table,\n    action: (editor) =>\n      editor\n        .chain()\n        .focus()\n        .insertTable({ rows: 3, cols: 3, withHeaderRow: true })\n        .run(),\n    isActive: (editor) => false,\n  },\n  AddColumnBefore: {\n    label: 'Add Column Before',\n    action: (editor) => editor.chain().focus().addColumnBefore().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().addColumnBefore(),\n  },\n  AddColumnAfter: {\n    label: 'Add Column After',\n    action: (editor) => editor.chain().focus().addColumnAfter().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().addColumnAfter(),\n  },\n  DeleteColumn: {\n    label: 'Delete Column',\n    action: (editor) => editor.chain().focus().deleteColumn().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().deleteColumn(),\n  },\n  AddRowBefore: {\n    label: 'Add Row Before',\n    action: (editor) => editor.chain().focus().addRowBefore().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().addRowBefore(),\n  },\n  AddRowAfter: {\n    label: 'Add Row After',\n    action: (editor) => editor.chain().focus().addRowAfter().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().addRowAfter(),\n  },\n  DeleteRow: {\n    label: 'Delete Row',\n    action: (editor) => editor.chain().focus().deleteRow().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().deleteRow(),\n  },\n  DeleteTable: {\n    label: 'Delete Table',\n    action: (editor) => editor.chain().focus().deleteTable().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().deleteTable(),\n  },\n  MergeCells: {\n    label: 'Merge Cells',\n    action: (editor) => editor.chain().focus().mergeCells().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().mergeCells(),\n  },\n  SplitCell: {\n    label: 'Split Cell',\n    action: (editor) => editor.chain().focus().splitCell().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().splitCell(),\n  },\n  ToggleHeaderColumn: {\n    label: 'Toggle Header Column',\n    action: (editor) => editor.chain().focus().toggleHeaderColumn().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().toggleHeaderColumn(),\n  },\n  ToggleHeaderRow: {\n    label: 'Toggle Header Row',\n    action: (editor) => editor.chain().focus().toggleHeaderRow().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().toggleHeaderRow(),\n  },\n  ToggleHeaderCell: {\n    label: 'Toggle Header Cell',\n    action: (editor) => editor.chain().focus().toggleHeaderCell().run(),\n    isActive: (editor) => false,\n    isDisabled: (editor) => !editor.can().toggleHeaderCell(),\n  },\n  Separator: {\n    type: 'separator',\n  },\n}\n","import commands from './commands'\n\nexport function createEditorButton(option) {\n  if (option instanceof Array) {\n    return option.map(createEditorButton)\n  }\n  if (typeof option == 'object') {\n    return option\n  }\n  return commands[option]\n}\n","<template>\n  <Menu v-if=\"fixedMenuButtons\" :buttons=\"fixedMenuButtons\" />\n</template>\n<script>\nimport Menu from './Menu.vue'\nimport { createEditorButton } from './utils'\n\nexport default {\n  name: 'TextEditorFixedMenu',\n  props: ['buttons'],\n  components: { Menu },\n  inject: ['editor'],\n  computed: {\n    fixedMenuButtons() {\n      if (!this.buttons) return false\n      let buttons\n      if (Array.isArray(this.buttons)) {\n        buttons = this.buttons\n      } else {\n        buttons = [\n          [\n            'Heading 1',\n            'Heading 2',\n            'Heading 3',\n            'Heading 4',\n            'Heading 5',\n            'Heading 6',\n          ],\n          'Paragraph',\n          'Separator',\n          'Bold',\n          'Italic',\n          'Separator',\n          'Bullet List',\n          'Numbered List',\n          'Task List',\n          'Separator',\n          'Align Left',\n          'Align Center',\n          'Align Right',\n          'FontColor',\n          'Separator',\n          'Image',\n          'Video',\n          'Iframe',\n          'Link',\n          'Blockquote',\n          'Code',\n          'Horizontal Rule',\n          [\n            'InsertTable',\n            'AddColumnBefore',\n            'AddColumnAfter',\n            'DeleteColumn',\n            'AddRowBefore',\n            'AddRowAfter',\n            'DeleteRow',\n            'MergeCells',\n            'SplitCell',\n            'ToggleHeaderColumn',\n            'ToggleHeaderRow',\n            'ToggleHeaderCell',\n            'DeleteTable',\n          ],\n          'Separator',\n          'Undo',\n          'Redo',\n        ]\n      }\n      return buttons.map(createEditorButton)\n    },\n  },\n}\n</script>\n","<template>\n  <BubbleMenu\n    v-if=\"bubbleMenuButtons\"\n    class=\"bubble-menu rounded-md shadow-sm\"\n    :tippy-options=\"{ duration: 100 }\"\n    :editor=\"editor\"\n    v-bind=\"options\"\n  >\n    <Menu\n      class=\"rounded-md border-gray-100 shadow-lg\"\n      :buttons=\"bubbleMenuButtons\"\n    />\n  </BubbleMenu>\n</template>\n<script>\nimport { BubbleMenu } from '@tiptap/vue-3'\nimport { createEditorButton } from './utils'\nimport Menu from './Menu.vue'\n\nexport default {\n  name: 'TextEditorBubbleMenu',\n  props: ['buttons', 'options'],\n  components: { BubbleMenu, Menu },\n  inject: ['editor'],\n  computed: {\n    bubbleMenuButtons() {\n      if (!this.buttons) return false\n\n      let buttons\n      if (Array.isArray(this.buttons)) {\n        buttons = this.buttons\n      } else {\n        buttons = [\n          'Paragraph',\n          'Heading 2',\n          'Heading 3',\n          'Separator',\n          'Bold',\n          'Italic',\n          'Strikethrough',\n          'FontColor',\n          'Link',\n          'Separator',\n          'Bullet List',\n          'Numbered List',\n          'Task List',\n          'Separator',\n          'Align Left',\n          'Align Center',\n          'Align Right',\n          'Separator',\n          'Image',\n          'Video',\n          'Blockquote',\n          'Code',\n          [\n            'InsertTable',\n            'AddColumnBefore',\n            'AddColumnAfter',\n            'DeleteColumn',\n            'AddRowBefore',\n            'AddRowAfter',\n            'DeleteRow',\n            'MergeCells',\n            'SplitCell',\n            'ToggleHeaderColumn',\n            'ToggleHeaderRow',\n            'ToggleHeaderCell',\n            'DeleteTable',\n          ],\n        ]\n      }\n      return buttons.map(createEditorButton)\n    },\n  },\n}\n</script>\n","<template>\n  <FloatingMenu\n    v-if=\"floatingMenuButtons\"\n    :tippy-options=\"{ duration: 100 }\"\n    :editor=\"editor\"\n    class=\"flex\"\n  >\n    <button\n      v-for=\"button in floatingMenuButtons\"\n      :key=\"button.label\"\n      class=\"flex rounded p-1 text-ink-gray-8 transition-colors\"\n      :class=\"\n        button.isActive(editor)\n          ? 'bg-surface-gray-2'\n          : 'hover:bg-surface-gray-2'\n      \"\n      @click=\"() => button.action(editor)\"\n      :title=\"button.label\"\n    >\n      <component v-if=\"button.icon\" :is=\"button.icon\" class=\"h-4 w-4\" />\n      <span class=\"inline-block h-4 min-w-[1rem] text-sm leading-4\" v-else>\n        {{ button.text }}\n      </span>\n    </button>\n  </FloatingMenu>\n</template>\n<script>\nimport { FloatingMenu } from '@tiptap/vue-3'\nimport { createEditorButton } from './utils'\n\nexport default {\n  name: 'TextEditorFloatingMenu',\n  props: ['buttons'],\n  components: { FloatingMenu },\n  inject: ['editor'],\n  computed: {\n    floatingMenuButtons() {\n      if (!this.buttons) return false\n\n      let buttons\n      if (Array.isArray(this.buttons)) {\n        buttons = this.buttons\n      } else {\n        buttons = [\n          'Paragraph',\n          'Heading 2',\n          'Heading 3',\n          'Bullet List',\n          'Numbered List',\n          'Task List',\n          'Blockquote',\n          'Code',\n          'Horizontal Rule',\n        ]\n      }\n      return buttons.map(createEditorButton)\n    },\n  },\n}\n</script>\n","import { reactive, computed } from 'vue'\n\nexport interface UploadOptions {\n  private?: boolean\n  folder?: string\n  file_url?: string\n  doctype?: string\n  docname?: string\n  fieldname?: string\n  method?: string\n  type?: string\n  upload_endpoint?: string\n  optimize?: boolean\n  max_width?: number\n  max_height?: number\n  params?: object\n}\n\nexport interface UploadState {\n  uploading: boolean\n  progress: number\n  uploaded: number\n  total: number\n  error: any | null\n  result: UploadedFile | null\n}\n\nexport interface UploadedFile {\n  file_name: string\n  file_size: number\n  file_url: string\n  name?: string\n  owner?: string\n  creation?: string\n  modified?: string\n  modified_by?: string\n  is_private?: 0 | 1\n  file_type?: string\n  folder?: string\n  is_folder?: 0 | 1\n  content_hash?: string\n}\n\nexport function useFileUpload() {\n  const state = reactive<UploadState>({\n    uploading: false,\n    progress: 0,\n    uploaded: 0,\n    total: 0,\n    error: null,\n    result: null,\n  })\n\n  // Function to reset the state\n  const reset = () => {\n    state.uploading = false\n    state.progress = 0\n    state.uploaded = 0\n    state.total = 0\n    state.error = null\n    state.result = null\n  }\n\n  // Computed values for convenience\n  const isUploading = computed(() => state.uploading)\n  const progress = computed(() => state.progress)\n  const error = computed(() => state.error)\n  const result = computed(() => state.result)\n\n  return {\n    upload: (file: File, options: UploadOptions = {}) =>\n      upload(file, options, state, reset),\n    reset,\n    state,\n    isUploading,\n    progress,\n    error,\n    result,\n  }\n}\n\nasync function upload(\n  file: File | null,\n  options: UploadOptions = {},\n  state: UploadState,\n  reset: () => void,\n): Promise<UploadedFile> {\n  reset()\n  state.uploading = true\n\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    // Set up event listeners\n    xhr.upload.addEventListener('loadstart', () => {\n      state.uploading = true\n      state.error = null\n    })\n\n    xhr.upload.addEventListener('progress', (e) => {\n      if (e.lengthComputable) {\n        state.uploaded = e.loaded\n        state.total = e.total\n        state.progress = Math.round((e.loaded / e.total) * 100)\n      }\n    })\n\n    xhr.upload.addEventListener('load', () => {\n      state.progress = 100\n    })\n\n    xhr.addEventListener('error', (error) => {\n      state.uploading = false\n      state.error = 'Upload failed'\n      reject('Upload failed')\n    })\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState == XMLHttpRequest.DONE) {\n        let error\n        if (xhr.status === 200) {\n          let r = null\n          try {\n            r = JSON.parse(xhr.responseText)\n          } catch (e) {\n            r = xhr.responseText\n          }\n\n          const result = (r.message || r) as UploadedFile\n          state.result = result\n          resolve(result)\n        } else if (xhr.status === 403) {\n          error = JSON.parse(xhr.responseText)\n        } else {\n          try {\n            error = JSON.parse(xhr.responseText)\n          } catch (e) {\n            error = 'Upload failed'\n          }\n        }\n\n        if (error) {\n          let exception\n          let errorParts = [\n            [error.exc_type, error._error_message].filter(Boolean).join(' '),\n          ]\n          if (error.exc) {\n            exception = error.exc\n            try {\n              exception = JSON.parse(exception)[0]\n              console.log(exception)\n              // eslint-disable-next-line no-empty\n            } catch (e) {}\n          }\n          let e = new Error(errorParts.join('\\n'))\n          let messages = error._server_messages\n            ? JSON.parse(error._server_messages)\n            : []\n          messages = messages\n            .map((m: string) => {\n              try {\n                return JSON.parse(m).message\n              } catch (error) {\n                return m\n              }\n            })\n            .filter(Boolean)\n          if (!messages.length) {\n            messages = error._error_message\n              ? [error._error_message]\n              : ['Internal Server Error']\n          }\n          e.message = messages.join('\\n')\n          state.error = e\n          reject(e)\n        }\n\n        state.uploading = false\n      }\n    }\n\n    const uploadEndpoint = options.upload_endpoint || '/api/method/upload_file'\n    xhr.open('POST', uploadEndpoint, true)\n    xhr.setRequestHeader('Accept', 'application/json')\n\n    if (window.csrf_token && window.csrf_token !== '{{ csrf_token }}') {\n      xhr.setRequestHeader('X-Frappe-CSRF-Token', window.csrf_token)\n    }\n\n    const formData = new FormData()\n    if (file) {\n      formData.append('file', file, file.name)\n    }\n\n    formData.append('is_private', options.private ? '1' : '0')\n    formData.append('folder', options.folder || 'Home')\n\n    if (options.file_url) {\n      formData.append('file_url', options.file_url)\n    }\n\n    if (options.doctype) {\n      formData.append('doctype', options.doctype)\n    }\n\n    if (options.docname) {\n      formData.append('docname', options.docname)\n    }\n\n    if (options.fieldname) {\n      formData.append('fieldname', options.fieldname)\n    }\n\n    if (options.method) {\n      formData.append('method', options.method)\n    }\n\n    if (options.type) {\n      formData.append('type', options.type)\n    }\n\n    if (options.optimize) {\n      formData.append('optimize', '1')\n      if (options.max_width) {\n        formData.append('max_width', options.max_width.toString())\n      }\n      if (options.max_height) {\n        formData.append('max_height', options.max_height.toString())\n      }\n    }\n    if (options.params) {\n      for (let [k, v] of Object.entries(options.params)) {\n        formData.append(k, v)\n      }\n    }\n\n    xhr.send(formData)\n  })\n}\n\n// Add the Window interface for typescript\ndeclare global {\n  interface Window {\n    csrf_token?: string\n  }\n}\n\nexport { upload }\n","<template>\n  <div\n    v-if=\"editor\"\n    class=\"relative w-full\"\n    :class=\"attrsClass\"\n    :style=\"attrsStyle\"\n    v-bind=\"attrsWithoutClassStyle\"\n    ref=\"rootRef\"\n  >\n    <TextEditorBubbleMenu :buttons=\"bubbleMenu\" :options=\"bubbleMenuOptions\" />\n    <TextEditorFixedMenu\n      class=\"w-full overflow-x-auto rounded-t-lg border border-outline-gray-modals\"\n      :buttons=\"fixedMenu\"\n    />\n    <TextEditorFloatingMenu :buttons=\"floatingMenu\" />\n    <slot name=\"top\" :editor />\n    <slot name=\"editor\" :editor=\"editor\">\n      <EditorContent :editor=\"editor\" />\n    </slot>\n    <slot name=\"bottom\" :editor />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  normalizeClass,\n  normalizeStyle,\n  computed,\n  watch,\n  onMounted,\n  onBeforeUnmount,\n  provide,\n  ref,\n  useAttrs,\n  useTemplateRef,\n} from 'vue'\n\ndefineOptions({ inheritAttrs: false })\n\nimport { Editor, EditorContent } from '@tiptap/vue-3'\nimport StarterKit from '@tiptap/starter-kit'\nimport Placeholder from '@tiptap/extension-placeholder'\nimport TextAlign from '@tiptap/extension-text-align'\nimport Table from '@tiptap/extension-table'\nimport TableCell from '@tiptap/extension-table-cell'\nimport TableHeader from '@tiptap/extension-table-header'\nimport TableRow from '@tiptap/extension-table-row'\nimport { ImageExtension } from './extensions/image'\nimport ImageViewerExtension from './image-viewer-extension'\nimport VideoExtension from './video-extension'\nimport { IframeExtension } from './extensions/iframe'\nimport LinkExtension from './link-extension'\nimport Typography from '@tiptap/extension-typography'\nimport TextStyle from '@tiptap/extension-text-style'\nimport TaskItem from '@tiptap/extension-task-item'\nimport TaskList from '@tiptap/extension-task-list'\nimport NamedColorExtension from './extensions/color'\nimport NamedHighlightExtension from './extensions/highlight'\nimport improvedList from './extensions/list-extension'\n\nimport { MentionExtension } from './extensions/mention'\nimport TextEditorFixedMenu from './TextEditorFixedMenu.vue'\nimport TextEditorBubbleMenu from './TextEditorBubbleMenu.vue'\nimport TextEditorFloatingMenu from './TextEditorFloatingMenu.vue'\nimport EmojiExtension from './extensions/emoji/emoji-extension'\nimport SlashCommands from './extensions/slash-commands/slash-commands-extension'\nimport { ContentPasteExtension } from './extensions/content-paste-extension'\nimport { TagNode, TagExtension } from './extensions/tag/tag-extension'\nimport { Heading } from './extensions/heading/heading'\nimport { ImageGroup } from './extensions/image-group/image-group-extension'\nimport { ExtendedCode, ExtendedCodeBlock } from './extensions/code-block'\nimport { useFileUpload } from '../../utils/useFileUpload'\nimport { TextEditorEmits, TextEditorProps } from './types'\n\nfunction defaultUploadFunction(file: File) {\n  // useFileUpload is frappe specific\n  let fileUpload = useFileUpload()\n  return fileUpload.upload(file, props.uploadArgs || {})\n}\n\nconst props = withDefaults(defineProps<TextEditorProps>(), {\n  content: null,\n  placeholder: '',\n  editorClass: '',\n  editable: true,\n  autofocus: false,\n  bubbleMenu: false,\n  bubbleMenuOptions: () => ({}),\n  fixedMenu: false,\n  floatingMenu: false,\n  extensions: () => [],\n  starterkitOptions: () => ({}),\n  mentions: null,\n  tags: () => [],\n})\n\nconst emit = defineEmits<TextEditorEmits>()\n\nconst editor = ref<Editor | null>(null)\n\nconst attrs = useAttrs()\nconst attrsClass = computed(() => normalizeClass(attrs.class))\nconst attrsStyle = computed(() => normalizeStyle(attrs.style))\nconst attrsWithoutClassStyle = computed(() => {\n  return Object.fromEntries(\n    Object.entries(attrs).filter(([key]) => key !== 'class' && key !== 'style'),\n  )\n})\n\nconst editorProps = computed(() => {\n  return {\n    attributes: {\n      class: normalizeClass([\n        'prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2',\n        props.editorClass,\n      ]),\n    },\n  }\n})\n\nwatch(\n  () => props.content,\n  (val) => {\n    if (editor.value) {\n      let currentHTML = editor.value.getHTML()\n      if (currentHTML !== val) {\n        editor.value.commands.setContent(val)\n      }\n    }\n  },\n)\n\nwatch(\n  () => props.editable,\n  (value) => {\n    if (editor.value) {\n      editor.value.setEditable(value)\n    }\n  },\n)\n\nwatch(\n  editorProps,\n  (value) => {\n    if (editor.value) {\n      editor.value.setOptions({\n        editorProps: value,\n      })\n    }\n  },\n  { deep: true },\n)\n\nonMounted(() => {\n  editor.value = new Editor({\n    content: props.content || null,\n    editorProps: editorProps.value,\n    editable: props.editable,\n    autofocus: props.autofocus,\n    extensions: [\n      StarterKit.configure({\n        ...props.starterkitOptions,\n        code: false,\n        codeBlock: false,\n        heading: false,\n      }).extend({\n        addKeyboardShortcuts() {\n          return {\n            Backspace: () => improvedList(this.editor),\n          }\n        },\n      }),\n      Heading.configure({\n        ...(typeof props.starterkitOptions?.heading === 'object' &&\n        props.starterkitOptions.heading !== null\n          ? props.starterkitOptions.heading\n          : {}),\n      }),\n      Table.configure({\n        resizable: true,\n      }),\n      TaskList,\n      TaskItem.configure({\n        nested: true,\n      }),\n      TableRow,\n      TableHeader,\n      TableCell,\n      Typography,\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      TextStyle,\n      NamedColorExtension,\n      NamedHighlightExtension,\n      ExtendedCode,\n      ExtendedCodeBlock,\n      ImageExtension.configure({\n        uploadFunction: props.uploadFunction || defaultUploadFunction,\n      }),\n      ImageGroup.configure({\n        uploadFunction: props.uploadFunction || defaultUploadFunction,\n      }),\n      ImageViewerExtension,\n      VideoExtension.configure({\n        uploadFunction: props.uploadFunction || defaultUploadFunction,\n      }),\n      IframeExtension,\n      LinkExtension.configure({\n        openOnClick: false,\n      }),\n      Placeholder.configure({\n        placeholder:\n          typeof props.placeholder === 'function'\n            ? props.placeholder\n            : () => props.placeholder as string,\n      }),\n      props.mentions &&\n        MentionExtension.configure(\n          Array.isArray(props.mentions)\n            ? { mentions: props.mentions }\n            : {\n                mentions: props.mentions.mentions,\n                component: props.mentions.component,\n              },\n        ),\n      EmojiExtension,\n      SlashCommands,\n      TagNode,\n      TagExtension.configure({\n        tags: () => props.tags,\n      }),\n      ContentPasteExtension.configure({\n        enabled: true,\n        uploadFunction: props.uploadFunction || defaultUploadFunction,\n      }),\n      ...(props.extensions || []),\n    ],\n    onUpdate: ({ editor }) => {\n      emit('change', editor.getHTML())\n    },\n    onTransaction: ({ editor }) => {\n      emit('transaction', editor)\n    },\n    onFocus: ({ editor, event }) => {\n      emit('focus', event)\n    },\n    onBlur: ({ editor, event }) => {\n      emit('blur', event)\n    },\n  })\n})\n\nonBeforeUnmount(() => {\n  if (editor.value) {\n    editor.value.destroy()\n    editor.value = null\n  }\n})\n\nprovide(\n  'editor',\n  computed(() => editor.value),\n)\n\nconst rootRef = useTemplateRef('rootRef')\ndefineExpose({\n  editor,\n  rootRef,\n})\n</script>\n\n<style>\n@import './extensions/color/color-styles.css';\n@import './extensions/highlight/highlight-styles.css';\n\n.ProseMirror {\n  outline: none;\n  caret-color: var(--ink-gray-9);\n  word-break: break-word;\n}\n\n/* Firefox */\n.ProseMirror-focused:focus-visible {\n  outline: none;\n}\n\n/* Placeholder */\n.ProseMirror:not(.ProseMirror-focused) p.is-editor-empty::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: var(--ink-gray-4);\n  pointer-events: none;\n  height: 0;\n}\n\n.ProseMirror-selectednode video,\nimg.ProseMirror-selectednode {\n  outline: 2px solid var(--outline-gray-2);\n}\n\n/* Table styles */\n.prose table p {\n  margin: 0;\n}\n\n/* Prosemirror specific table styles */\n.ProseMirror table .selectedCell:after {\n  z-index: 2;\n  position: absolute;\n  content: '';\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n  background: theme('colors.blue.200');\n  opacity: 0.3;\n}\n\n.ProseMirror table .column-resize-handle {\n  position: absolute;\n  right: -1px;\n  top: 0;\n  bottom: -2px;\n  width: 4px;\n  background-color: theme('colors.blue.200');\n  pointer-events: none;\n}\n\n.ProseMirror ul[data-type='taskList'] {\n  list-style: none;\n  padding: 0;\n\n  li {\n    align-items: flex-start;\n    display: flex;\n    margin: 0;\n\n    > label {\n      flex: 0 0 auto;\n      margin-right: 0.5rem;\n      margin-top: 0.25rem;\n      height: 1lh;\n      display: flex;\n      align-items: center;\n      user-select: none;\n    }\n\n    > div {\n      flex: 1 1 auto;\n      margin-bottom: 0;\n\n      > p {\n        margin: 0.25rem 0;\n      }\n    }\n  }\n  ul[data-type='taskList'] {\n    margin: 0;\n  }\n\n  input[type='checkbox'] {\n    cursor: pointer;\n    width: 14px;\n    height: 14px;\n    border-radius: 4px;\n    color: theme('colors.gray.900');\n  }\n}\n\n.resize-cursor {\n  cursor: ew-resize;\n  cursor: col-resize;\n}\n\n.tag-item,\n.tag-suggestion-active {\n  background-color: var(--surface-gray-1, #f8f8f8);\n  color: inherit;\n  border: 1px solid transparent;\n  padding: 0px 2px;\n  border-radius: 4px;\n  font-size: 1em;\n  white-space: nowrap;\n  cursor: default;\n}\n\n.tag-item.ProseMirror-selectednode {\n  border-color: var(--outline-gray-3, #c7c7c7);\n}\n\n.tag-suggestion-active {\n  background-color: var(--surface-gray-2, #f3f3f3);\n}\n</style>\n"],"file":"assets/TextEditor.vue_vue_type_script_setup_true_lang-1676428f.js"}