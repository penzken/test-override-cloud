import{_ as Q,f as t,c as d,d as r,m as M,a as ue,H as Z,e as N,M as q,N as H,t as F,b as c,a3 as B,aO as de,u as i,aP as fe,g as u,C as x,w as g,F as j,r as X,b8 as he,z as Y,Y as pe,A as me,n as ge,ba as be,O as ee,P as ke,a_ as xe,aZ as Ce,X as we,aS as $e,aV as Se,a0 as Le,aU as te,B as ae,L as le,$ as z,a$ as Ve,bb as Be,V as J}from"./index-f67ab40e.js";import{u as Fe,f as E,g as De,b as Ie}from"./modals-c90d3242.js";import{E as R,a as Oe,_ as Me}from"./EditIcon-1993ceb2.js";import{_ as Ne,L as Pe,G as Ue,K as je}from"./FadedScrollableDiv-93770c12.js";import{A as Ee}from"./ArrowUpRightIcon-1efa1a5e.js";import{_ as Re,L as oe}from"./Link-ecdb2b5a.js";import{g as ne,b as Te,u as se,_ as re,x as K,y as G}from"./index-2d43ee63.js";import{D as ie,b as Ae,i as ze,_ as Je}from"./DragVerticalIcon-08f5f238.js";const Ke={},Ge={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ze(n,b){return t(),d("svg",Ge,[...b[0]||(b[0]=[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM11.2909 5.98482C11.4666 5.77175 11.4363 5.45663 11.2232 5.28096C11.0101 5.1053 10.695 5.13561 10.5193 5.34868L7.07001 9.53239L5.72845 7.79857C5.55946 7.58018 5.24543 7.54012 5.02703 7.70911C4.80863 7.8781 4.76858 8.19214 4.93756 8.41053L6.66217 10.6394C6.7552 10.7596 6.89788 10.831 7.04988 10.8334C7.20188 10.8357 7.3467 10.7688 7.4434 10.6515L11.2909 5.98482Z",fill:"currentColor"},null,-1)])])}const qe=Q(Ke,[["render",Ze]]),He={class:"group flex w-full items-center justify-between rounded bg-transparent p-1 pl-2 text-base text-ink-gray-8 transition-colors hover:bg-surface-gray-3 active:bg-surface-gray-4"},Xe={class:"flex flex-1 items-center justify-between gap-7"},Ye={class:"actions flex items-center justify-center"},Qe={key:0},We={__name:"PrimaryDropdownItem",props:{option:{type:Object,default:()=>{}}},setup(n){const b=n,p=M(!1),k=M(!1),f=M(null);ue(()=>{var _;(_=b.option)!=null&&_.value||(p.value=!0,k.value=!0,Z(()=>f.value.el.focus()))});const C=()=>{p.value=!p.value,p.value&&Z(()=>f.value.el.focus())},v=_=>{_.target.value&&(C(),b.option.onSave(b.option,k.value),k.value=!1)};return(_,L)=>{const w=N("Button"),l=N("FeatherIcon");return t(),d("div",He,[r("div",Xe,[q(r("div",null,F(n.option.value),513),[[H,!p.value]]),q(c(i(fe),{ref_key:"inputRef",ref:f,modelValue:n.option.value,"onUpdate:modelValue":L[0]||(L[0]=D=>n.option.value=D),class:"w-full",placeholder:n.option.placeholder,onBlur:B(v,["stop"]),onKeydown:L[1]||(L[1]=de(B(D=>D.target.blur(),["stop"]),["enter"]))},null,8,["modelValue","placeholder"]),[[H,p.value]]),r("div",Ye,[p.value?(t(),u(w,{key:0,variant:"ghost",label:_.__("Save"),class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:v},null,8,["label"])):x("",!0),!k.value&&!n.option.selected?(t(),u(w,{key:1,tooltip:_.__("Set As Primary"),variant:"ghost",icon:qe,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:n.option.onClick},null,8,["tooltip","onClick"])):x("",!0),p.value?x("",!0):(t(),u(w,{key:2,tooltip:_.__("Edit"),variant:"ghost",icon:R,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:C},null,8,["tooltip"])),c(w,{tooltip:_.__("Delete"),variant:"ghost",icon:"x",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:L[2]||(L[2]=()=>n.option.onDelete(n.option,k.value))},null,8,["tooltip"])])]),n.option.selected?(t(),d("div",Qe,[c(l,{name:"check",class:"text-ink-gray-5 h-4 w-6"})])):x("",!0)])}}};const et={key:0,class:"truncate"},tt={key:1,class:"text-base leading-5 text-ink-gray-4 truncate"},at={class:"my-2 p-1.5 min-w-40 space-y-1.5 divide-y divide-outline-gray-1 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},lt={key:0},ot={class:"p-1.5 pl-3 pr-4 text-base text-ink-gray-4"},nt={class:"pt-1.5"},st={__name:"PrimaryDropdown",props:{value:{type:[String,Number],default:""},placeholder:{type:String,default:""},options:{type:Array,default:[]},create:{type:Function},label:{type:String,default:""}},setup(n){return(b,p)=>{const k=N("FeatherIcon"),f=N("Button");return t(),u(i(he),null,{target:g(({isOpen:C,togglePopover:v})=>[c(f,{label:n.value,class:"dropdown-button flex items-center justify-between bg-surface-white !px-2.5 py-1.5 text-base text-ink-gray-8 placeholder-ink-gray-4 transition-colors hover:bg-surface-white focus:bg-surface-white focus:shadow-sm focus:outline-none focus:ring-0",onClick:v},{suffix:g(()=>[c(k,{name:C?"chevron-up":"chevron-down",class:"h-4 text-ink-gray-5"},null,8,["name"])]),default:g(()=>[n.value?(t(),d("div",et,F(n.value),1)):(t(),d("div",tt,F(n.placeholder),1))]),_:2},1032,["label","onClick"])]),body:g(()=>{var C;return[r("div",at,[r("div",null,[(t(!0),d(j,null,X(n.options,v=>(t(),u(We,{key:v.name||v.value,option:v},null,8,["option"]))),128)),(C=n.options)!=null&&C.length?x("",!0):(t(),d("div",lt,[r("div",ot,F(b.__("No {0} Available",[n.label])),1)]))]),r("div",nt,[c(f,{variant:"ghost",class:"w-full !justify-start",label:b.__("Create New"),iconLeft:"plus",onClick:p[0]||(p[0]=v=>n.create&&n.create())},null,8,["label"])])])]}),_:1})}}},rt=Q(st,[["__scopeId","data-v-0e4ceb1e"]]),it={class:"flex flex-col gap-3"},ct={class:"flex items-center justify-between rounded px-2.5 py-2 bg-surface-gray-2"},ut=["onClick"],dt={key:0},pt={key:1,class:"flex gap-2 items-center"},mt={class:"flex gap-1 items-center"},vt={class:"px-2.5 py-2 border border-outline-gray-modals rounded text-base leading-4 text-ink-gray-8 flex items-center justify-between gap-2"},yt={class:"flex items-center gap-2"},_t={class:"flex flex-col gap-1 text-ink-gray-9"},ft={class:"text-ink-gray-4 text-sm"},ht={key:1,class:"flex justify-center items-center border rounded border-dashed border-outline-gray-modals p-3"},gt={class:"text-sm text-ink-gray-4"},bt={class:"mt-5.5"},kt={__name:"SidePanelLayoutEditor",props:{sections:Object,doctype:String},setup(n){const b=n,p=["Table","Table MultiSelect","Geolocation","Attach","Attach Image","HTML","Signature"],k=Y(()=>({doctype:b.doctype,restricted_fieldtypes:p,as_array:!0})),f=pe({url:"crm.api.doc.get_fields_meta",params:k.value,cache:["fieldsMeta",b.doctype],auto:!0});function C(v,_){_&&v.columns[0].fields.push(_)}return me(()=>b.doctype,()=>f.fetch(k.value),{immediate:!0}),(v,_)=>{const L=N("FeatherIcon"),w=N("Button");return t(),d("div",null,[c(i(ie),{list:n.sections,"item-key":"name",class:"flex flex-col gap-5.5"},{item:g(({element:l})=>{var D;return[r("div",it,[r("div",ct,[r("div",{class:"flex max-w-fit cursor-pointer items-center gap-2 text-base leading-4 text-ink-gray-9",onClick:y=>l.opened=!l.opened},[c(L,{name:"chevron-right",class:ge(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":l.opened}])},null,8,["class"]),l.editingLabel?(t(),d("div",pt,[c(i(be),{modelValue:l.label,"onUpdate:modelValue":y=>l.label=y,onKeydown:de(y=>l.editingLabel=!1,["enter"]),onBlur:y=>l.editingLabel=!1,onClick:_[0]||(_[0]=B(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),l.editingLabel?(t(),u(w,{key:0,icon:"check",class:"!size-4 rounded-sm",variant:"ghost",onClick:B(y=>l.editingLabel=!1,["stop"])},null,8,["onClick"])):x("",!0)])):(t(),d("div",dt,F(v.__(l.label)||v.__("Untitled")),1))],8,ut),r("div",mt,[l.editingLabel?x("",!0):(t(),u(w,{key:0,class:"!size-4 rounded-sm",variant:"ghost",onClick:y=>l.editingLabel=!0},{icon:g(()=>[c(R,{class:"h-3.5"})]),_:1},8,["onClick"])),l.editable!==!1?(t(),u(w,{key:1,class:"!size-4 rounded-sm",icon:"x",variant:"ghost",onClick:y=>n.sections.splice(n.sections.indexOf(l),1)},null,8,["onClick"])):x("",!0)])]),q(r("div",null,[c(i(ie),{list:((D=l.columns)==null?void 0:D[0].fields)||[],group:"fields","item-key":"fieldname",class:"flex flex-col gap-1.5",handle:".cursor-grab"},{item:g(({element:y})=>[r("div",vt,[r("div",yt,[c(Ae,{class:"h-3.5 cursor-grab"}),r("div",null,F(y.label),1)]),c(w,{variant:"ghost",icon:"x",class:"!size-4 rounded-sm",onClick:o=>l.columns[0].fields.splice(l.columns[0].fields.indexOf(y),1)},null,8,["onClick"])])]),_:2},1032,["list"]),i(f).data&&l.editable!==!1?(t(),u(Re,{key:0,value:"",options:i(f).data,onChange:y=>C(l,y)},{target:g(({togglePopover:y})=>[c(w,{class:"w-full h-8 mt-1.5 !bg-surface-gray-1",variant:"outline",label:v.__("Add Field"),iconLeft:"plus",onClick:o=>y()},null,8,["label","onClick"])]),"item-label":g(({option:y})=>[r("div",_t,[r("div",null,F(y.label),1),r("div",ft,F(`${y.fieldname} - ${y.fieldtype}`),1)])]),_:1},8,["options","onChange"])):(t(),d("div",ht,[r("div",gt,F(v.__("This section is not editable")),1)]))],512),[[H,l.opened]])])]}),_:1},8,["list"]),r("div",bt,[c(w,{class:"w-full h-8",variant:"subtle",label:v.__("Add Section"),iconLeft:"plus",onClick:_[1]||(_[1]=l=>n.sections.push({label:v.__("New Section"),opened:!0,name:"section_"+i(ne)(),columns:[{name:"column_"+i(ne)(),fields:[]}]}))},null,8,["label"])])])}}},xt={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},Ct={class:"flex flex-col gap-5.5"},wt={class:"flex justify-between gap-2"},$t={class:"flex flex-row-reverse gap-2"},St={key:0,class:"flex gap-4"},Lt={key:0,class:"flex flex-1 flex-col border rounded"},Vt={key:0,class:"flex h-16 items-center justify-center text-base text-ink-gray-5"},Bt={key:1,class:"flex flex-1 justify-center items-center text-ink-gray-5 bg-surface-gray-2 rounded"},Ft={__name:"SidePanelModal",props:ee({doctype:{type:String,default:"CRM Lead"}},{modelValue:{},modelModifiers:{}}),emits:ee(["reload"],["update:modelValue"]),setup(n,{emit:b}){const p=n,k=b,f=ke(n,"modelValue"),C=M(p.doctype),v=M(!1),_=M(!1),L=M(!1);M({});function w(){return{doctype:C.value,type:"Side Panel"}}const l=pe({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["SidePanel",C.value],params:w(),onSuccess(o){l.originalData=JSON.parse(JSON.stringify(o))}});me(()=>l==null?void 0:l.data,()=>{_.value=JSON.stringify(l==null?void 0:l.data)!==JSON.stringify(l==null?void 0:l.originalData)},{deep:!0}),ue(()=>xe(D,100)());function D(){Z(()=>{l.params=w(),l.reload()})}function y(){let o=JSON.parse(JSON.stringify(l.data));o.forEach(O=>{O.sections.forEach(P=>{P.columns&&P.columns.forEach(I=>{I.fields&&(I.fields=I.fields.map(U=>U.fieldname).filter(Boolean))})})}),v.value=!0,$e("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:C.value,type:"Side Panel",layout:JSON.stringify(o[0].sections)}).then(()=>{v.value=!1,f.value=!1,Se("side_panel_layout_builder",{doctype:C.value}),k("reload")})}return(o,O)=>{const P=N("Button");return t(),u(i(we),{modelValue:f.value,"onUpdate:modelValue":O[1]||(O[1]=I=>f.value=I),options:{size:"3xl"}},{"body-title":g(()=>[r("h3",xt,[r("div",null,F(o.__("Edit Field Layout")),1),_.value?(t(),u(i(Ce),{key:0,label:o.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):x("",!0)])]),"body-content":g(()=>{var I,U;return[r("div",Ct,[r("div",wt,[c(P,{label:L.value?o.__("Hide preview"):o.__("Show preview"),onClick:O[0]||(O[0]=$=>L.value=!L.value)},null,8,["label"]),r("div",$t,[c(P,{loading:v.value,label:o.__("Save"),variant:"solid",onClick:y},null,8,["loading","label"]),c(P,{label:o.__("Reset"),onClick:D},null,8,["label"])])]),(U=(I=i(l).data)==null?void 0:I[0])!=null&&U.sections?(t(),d("div",St,[c(kt,{class:"flex flex-1 flex-col pr-2",sections:i(l).data[0].sections,doctype:C.value},null,8,["sections","doctype"]),L.value?(t(),d("div",Lt,[c(qt,{sections:i(l).data[0].sections,doctype:C.value,docname:"",preview:!0},{default:g(({section:$})=>[$.name=="contacts_section"?(t(),d("div",Vt,F(o.__("No contacts added")),1)):x("",!0)]),_:1},8,["sections","doctype"])])):(t(),d("div",Bt,F(o.__("Toggle on for preview")),1))])):x("",!0)])]}),_:1},8,["modelValue"])}}};const Dt={class:"sections flex flex-col overflow-y-auto"},It={key:0,class:"section flex flex-col"},Ot={key:0,class:"w-full section-border h-px border-t"},Mt={class:"p-1 sm:p-3"},Nt={key:0,class:"field flex items-center gap-2 px-3 leading-5 first:mt-3"},Pt={class:"w-[35%] min-w-20 shrink-0 flex items-center gap-0.5"},Ut={class:"truncate text-sm text-ink-gray-5"},jt={key:0,class:"text-ink-red-2"},Et={class:"flex items-center justify-between w-[65%]"},Rt={class:"grid min-h-[28px] flex-1 items-center overflow-hidden text-base"},Tt={key:0,class:"flex h-7 cursor-pointer items-center px-2 py-1 text-ink-gray-5"},At={class:"cursor-pointer"},zt={key:7,class:"form-control"},Jt={key:8,class:"form-control"},Kt={key:9,class:"form-control"},Gt={class:"ml-1"},Zt={__name:"SidePanelLayout",props:{sections:{type:Object},doctype:{type:String,default:"CRM Lead",required:!0},docname:{type:String,required:!0},preview:{type:Boolean,default:!1},addContact:{type:Function}},emits:["beforeFieldChange","afterFieldChange","reload"],setup(n,{emit:b}){var W;const p=n,k=b,{getFormattedPercent:f,getFormattedFloat:C,getFormattedCurrency:v}=Te(p.doctype),{users:_,isManager:L,getUser:w}=Le(),l=M(!1);let D={doc:{}},y;if(p.docname){let a=Fe(p.doctype,p.docname);D=a.document,y=a.triggerOnChange}const o=Y(()=>D.doc||{}),O=Y(()=>{var h;if(!((h=p.sections)!=null&&h.length))return[];let a=!1;return p.sections.map(V=>{var m;(m=V.columns)!=null&&m.length&&(V.columns[0].fields=V.columns[0].fields.map(T=>P(T)));let S=ve(V,a);return S.showEditButton&&(a=!0),S})});function P(a){var V,S;a.fieldtype=="Select"&&typeof a.options=="string"&&(a.options=a.options.split(`
`).map(m=>({label:m,value:m})),a.options[0].value!==""&&a.options.unshift({label:"",value:""})),a.fieldtype==="Link"&&a.options==="User"&&(a.fieldtype="User",a.link_filters=JSON.stringify({...a.link_filters?JSON.parse(a.link_filters):{},name:["in",(S=(V=_.data)==null?void 0:V.crmUsers)==null?void 0:S.map(m=>m.name)]}));let h={...a,filters:a.link_filters&&JSON.parse(a.link_filters),placeholder:a.placeholder||a.label,display_via_depends_on:se(a.depends_on,o.value),mandatory_via_depends_on:se(a.mandatory_depends_on,o.value)};return h.visible=ye(h),h}const I=Ve(),U=((W=I==null?void 0:I.vnode)==null?void 0:W.props)??{};async function $(a,h){if(p.preview)return;await y(h.fieldname,a),U.onBeforeFieldChange!==void 0?k("beforeFieldChange",{[h.fieldname]:a}):D.save.submit(null,{onSuccess:()=>k("afterFieldChange",{[h.fieldname]:a})})}function ve(a,h){var S;let V=a.name=="contacts_section";return a.showEditButton=!(ze.value||!L()||V||h),a.visible=V||((S=a.columns)==null?void 0:S[0].fields.filter(m=>m.visible).length),a}function ye(a){var S,m;if(p.preview)return!0;const h=Number(((S=window.sysdefaults)==null?void 0:S.hide_empty_read_only_fields)??1),V=a.read_only&&(((m=o.value)==null?void 0:m[a.fieldname])||!h);return(a.fieldtype=="Check"||V||!a.read_only)&&(!a.depends_on||a.display_via_depends_on)&&!a.hidden}function _e(){return O.value.findIndex(a=>a.visible)}return(a,h)=>{const V=N("Button"),S=N("FormControl");return t(),d(j,null,[r("div",Dt,[(t(!0),d(j,null,X(O.value,(m,T)=>(t(),d(j,{key:m.name},[m.visible?(t(),d("div",It,[T!==_e()?(t(),d("div",Ot)):x("",!0),r("div",Mt,[c(Ie,{labelClass:"px-2 font-semibold",headerClass:"h-8",label:m.label,hideLabel:!m.label,opened:m.opened},te({default:g(()=>[ae(a.$slots,"default",le({ref_for:!0},{section:m}),()=>{var A;return[(A=m.columns)!=null&&A[0].fields.length?(t(),u(Ne,{key:0,class:"column flex flex-col gap-1.5 overflow-y-auto"},{default:g(()=>[(t(!0),d(j,null,X(m.columns[0].fields||[],e=>(t(),d(j,{key:e.fieldname},[e.visible?(t(),d("div",Nt,[c(i(z),{text:a.__(e.label),hoverDelay:1},{default:g(()=>[r("div",Pt,[r("div",Ut,F(a.__(e.label)),1),e.reqd||e.mandatory_depends_on&&e.mandatory_via_depends_on?(t(),d("div",jt," * ")):x("",!0)])]),_:2},1032,["text"]),r("div",Et,[r("div",Rt,[e.read_only&&!["Int","Float","Currency","Percent","Check","Dropdown"].includes(e.fieldtype)?(t(),d("div",Tt,[c(i(z),{text:a.__(e.tooltip)},{default:g(()=>[r("div",null,F(o.value[e.fieldname]),1)]),_:2},1032,["text"])])):e.fieldtype==="Dropdown"?(t(),u(rt,{key:1,value:o.value[e.fieldname],placeholder:e.placeholder,options:e.options,create:e.create,label:e.label},null,8,["value","placeholder","options","create","label"])):e.fieldtype=="Check"?(t(),u(S,{key:2,class:"form-control",type:"checkbox",modelValue:o.value[e.fieldname],"onUpdate:modelValue":s=>o.value[e.fieldname]=s,onChange:B(s=>$(s.target.checked,e),["stop"]),disabled:!!e.read_only},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):["Small Text","Text","Long Text","Code"].includes(e.fieldtype)?(t(),u(S,{key:3,class:"form-control",type:"textarea",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:B(s=>$(s.target.value,e),["stop"])},null,8,["value","placeholder","onChange"])):e.fieldtype==="Select"?(t(),u(S,{key:4,class:"form-control cursor-pointer [&_select]:cursor-pointer truncate",type:"select",modelValue:o.value[e.fieldname],"onUpdate:modelValue":s=>o.value[e.fieldname]=s,options:e.options,placeholder:e.placeholder,onChange:B(s=>$(s.target.value,e),["stop"])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","onChange"])):e.fieldtype==="User"?(t(),u(oe,{key:5,class:"form-control",value:o.value[e.fieldname]&&i(w)(o.value[e.fieldname]).full_name,doctype:"User",filters:e.filters,onChange:s=>$(s,e),placeholder:"Select "+e.label+"...",hideMe:!0},te({"item-prefix":g(({option:s})=>[c(re,{class:"mr-1.5",user:s.value,size:"sm"},null,8,["user"])]),"item-label":g(({option:s})=>[c(i(z),{text:s.value},{default:g(()=>[r("div",At,F(i(w)(s.value).full_name),1)]),_:2},1032,["text"])]),_:2},[o.value[e.fieldname]?{name:"prefix",fn:g(()=>[c(re,{class:"mr-1.5",user:o.value[e.fieldname],size:"sm"},null,8,["user"])]),key:"0"}:void 0]),1032,["value","filters","onChange","placeholder"])):["Link","Dynamic Link"].includes(e.fieldtype)?(t(),u(oe,{key:6,class:"form-control select-text",value:o.value[e.fieldname],doctype:e.fieldtype=="Link"?e.options:o.value[e.options],filters:e.filters,placeholder:e.placeholder,onChange:s=>$(s,e),onCreate:e.create},null,8,["value","doctype","filters","placeholder","onChange","onCreate"])):e.fieldtype==="Time"?(t(),d("div",zt,[c(i(Oe),{value:o.value[e.fieldname],format:i(K)("","",!1,!0,!1),placeholder:e.placeholder,onChange:s=>$(s,e)},null,8,["value","format","placeholder","onChange"])])):e.fieldtype==="Datetime"?(t(),d("div",Jt,[c(i(Je),{value:o.value[e.fieldname],format:i(K)("","",!0,!0,!1),placeholder:e.placeholder,placement:"left-start",onChange:s=>$(s,e)},null,8,["value","format","placeholder","onChange"])])):e.fieldtype==="Date"?(t(),d("div",Kt,[c(i(Me),{value:o.value[e.fieldname],format:i(K)("","",!0,!1,!1),placeholder:e.placeholder,placement:"left-start",onChange:s=>$(s,e)},null,8,["value","format","placeholder","onChange"])])):e.fieldtype==="Percent"?(t(),u(E,{key:10,class:"form-control",type:"text",value:i(f)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:B(s=>$(i(G)(s.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Password"?(t(),u(De,{key:11,class:"form-control",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:B(s=>$(s.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Int"?(t(),u(E,{key:12,class:"form-control",type:"text",value:o.value[e.fieldname]||"0",placeholder:e.placeholder,debounce:500,onChange:B(s=>$(s.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Float"?(t(),u(E,{key:13,class:"form-control",type:"text",value:i(C)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:B(s=>$(i(G)(s.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Currency"?(t(),u(E,{key:14,class:"form-control",type:"text",value:i(v)(e.fieldname,o.value),placeholder:e.placeholder,debounce:500,onChange:B(s=>$(i(G)(s.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):(t(),u(S,{key:15,class:"form-control",type:"text",value:o.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:B(s=>$(s.target.value,e),["stop"])},null,8,["value","placeholder","onChange"]))]),r("div",Gt,[e.fieldtype==="Link"&&e.link&&o.value[e.fieldname]?(t(),u(Ee,{key:0,class:"h-4 w-4 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:B(s=>e.link(o.value[e.fieldname]),["stop"])},null,8,["onClick"])):x("",!0),e.fieldtype==="Link"&&e.edit&&o.value[e.fieldname]?(t(),u(R,{key:1,class:"size-3.5 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:B(s=>e.edit(o.value[e.fieldname]),["stop"])},null,8,["onClick"])):x("",!0)])])])):x("",!0)],64))),128))]),_:2},1024)):x("",!0)]},!0)]),_:2},[n.preview?void 0:{name:"actions",fn:g(()=>[ae(a.$slots,"actions",le({ref_for:!0},{section:m}),()=>[m.showEditButton?(t(),u(V,{key:0,variant:"ghost",class:"w-7 mr-2",icon:R,onClick:h[0]||(h[0]=A=>l.value=!0)})):x("",!0)],!0)]),key:"0"}]),1032,["label","hideLabel","opened"])])])):x("",!0)],64))),128))]),l.value?(t(),u(Ft,{key:0,modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=m=>l.value=m),doctype:n.doctype,onReload:h[2]||(h[2]=()=>k("reload"))},null,8,["modelValue","doctype"])):x("",!0)],64)}}},qt=Q(Zt,[["__scopeId","data-v-d3b44460"]]),{getView:Ht}=Be();function ce(n){return{list:{label:__("List"),icon:J(Pe)},group_by:{label:__("Group By"),icon:J(Ue)},kanban:{label:__("Kanban"),icon:J(je)}}[n]}function oa(n,b,p){let k=b||"list",f=Ht(n,k,p);return f&&!f.icon&&(f.icon=ce(k).icon),f||ce(k)}export{qt as S,qe as a,oa as g};
//# sourceMappingURL=view-7ff77848.js.map
